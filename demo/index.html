<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scale=no">

    <title>morph-sidebar demo</title>

    <link rel="import" href="/bower_components/morph-button/index.html">
    <link rel="import" href="/bower_components/morph-view/morph-view.html">
    <link rel="import" href="/bower_components/morph-sidebar/morph-sidebar.html" 
          onerror="console.warn('Can\'t load button from bower_components, loading local version')">
    <link rel="import" href="../morph-sidebar.hmtl">

    <style>
      body {
        overflow-x: hidden;
      }

      p {
        color: #6d6d72;
      }
      
      morph-sidebar[platform="android"] {
        --sidebar-background-color: white; 
      }
  </style>
  </head>
  <body>
    <morph-view id="mainView"> 
      <h3>Android morph-sidebar demo</h3>
      <script>
        /**
         * [toggleSidebar description]
         *
         * @param  {String} name takes left or right
         */
        function toggleSidebar(name) {
          let sidebar = document.getElementById('sidebar' + name);
          sidebar.open = !sidebar.open;
        }

        /**
         * [openRightSidebarWithReveal description]
         *
         *  Set sidebar.open to true and view.reveal to 'right'
         */
        function openRightSidebarWithReveal() {
          let view = document.getElementById('mainView');
          let sidebar = document.getElementById('sidebarRight');
          sidebar.open = true;
          view.reveal = 'right';
        }

        function closeRightSidebarWithReveal() {
          let view = document.getElementById('mainView');
          view.removeAttribute('reveal');
        }

        document.addEventListener('DOMContentLoaded', function(event) {
          document.getElementById('sidebarLeftToggler').addEventListener('click', () => toggleSidebar('Left'));
          document.getElementById('sidebarRightToggler').addEventListener('click', openRightSidebarWithReveal);
          document.getElementById('sidebarRight').addEventListener('open-changed', closeRightSidebarWithReveal);
        });
      </script>

      <button id="sidebarLeftToggler">Toggle Left Sidebar</button>
      <button id="sidebarRightToggler">Toggle Right Sidebar</button>
    </morph-view>
    <morph-sidebar id="sidebarLeft" platform="android">
      <p>Left Panel content here</p>
    </morph-sidebar>
    <morph-sidebar side="right" id="sidebarRight">
      <p>Right Panel content here</p>
    </morph-sidebar>
  </body>
</html>
